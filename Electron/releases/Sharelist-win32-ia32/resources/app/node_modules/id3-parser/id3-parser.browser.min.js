/*! id3-parser - v1.0.0 - 2015-07-27 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";b.exports={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image"}},{}],2:[function(a,b,c){"use strict";var d=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"];b.exports=d},{}],3:[function(a,b,c){"use strict";b.exports=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","writer","location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"]},{}],4:[function(a,b,c){(function(c){"use strict";function d(a){var b,c,d,g,h=m.defer();if(w?(b=v,c=v,d=x.Buffer):(b=x.File,c=x.FileReader,d=v),a instanceof b)g=new c,g.onload=function(b){a=new Uint8Array(b.target.result),h.resolve(a)},g.readAsArrayBuffer(a);else{if(!(a instanceof d||a instanceof Uint8Array))throw new Error("buffer should be instance of Buffer|Uint8Array|File.");h.resolve(a)}return h.promise.then(function(a){var b,c=e(a),d=f(a);if(!d)return c;for(b in c)b in d&&""!==d[b]||(d[b]=c[b]);return d.version={v2:d.version},c&&(d.version.v1=c.version),d})}function e(a){if(!a||a.length<t)return!1;a=a.slice(a.length-t);var b={version:{major:1,minor:0}},c=s(a,3),d=/(^[\s\u0000]+|[\s\u0000]+$)/;return"TAG"!==c?!1:(b.title=s(a.slice(3),30).replace(d,""),b.artist=s(a.slice(33),30).replace(d,""),b.album=s(a.slice(63),30).replace(d,""),b.year=s(a.slice(93),4).replace(d,""),0===a[125]?(b.comment=s(a.slice(97),28).replace(d,""),b.version.minor=1,b.track=a[126]):b.comment=s(a.slice(97),30).replace(d,""),b.genre=n[a[127]]||"",b)}function f(a){if(!a||a.length<u)return!1;var b,c,d,e=h(a.slice(0,14));if(!e)return!1;if(b=e.version.flags,c=10,b.unsync)throw new Error("not support unsynchronisation");return b.xheader&&(c+=j(a.slice(10,14))),d=j(a.slice(6,10)),i(a.slice(c,d+c),e),e}function g(a,b,c){var d,e,f,g,h={tag:null,value:null},i={id:l(a,4,0),type:l(a,1,0),size:c||k(a.slice(4)),flags:[a[8],a[9]]};if(0!==i.flags[1])return!1;if(!(i.id in o))return!1;if(h.tag=o[i.id],"T"===i.type){if(e=a[10],0===e||3===e)h.value=s(a.slice(11));else{if(1!==e&&2!==e)return!1;h.value=r(a.slice(11))}"TCON"===i.id&&parseInt(h.value)&&(h.value=n[parseInt(h.value)])}else if("W"===i.type)h.value=s(a.slice(10));else if("COMM"===i.id||"USLT"===i.id){for(e=a[10],f=14,g=0,d=f;;d++)if(1===e||2===e){if(0===a[d]&&0===a[d+1]){f=d+2;break}d++}else if(0===a[d]){f=d+1;break}if(0===e||3===e)h.value=s(a.slice(f));else{if(1!==e&&2!==e)return!1;h.value=r(a.slice(f))}}else if("APIC"===i.id){e=a[10];var j={type:null,mime:null,imageType:null,description:null,data:null};for(f=11,g=0,d=f;;d++)if(0===a[d]){g=d-f;break}for(j.mime=s(a.slice(f),g),j.type=p[a[f+g+1]]||"other",f+=g+2,g=0,d=f;;d++)if(0===a[d]){g=d-f;break}for(j.description=0===g?null:r(a.slice(f),g),f+=g+1,d=f;0===a[d];d++)f++;j.data=a.slice(f),h.value=j}return h.tag?h:!1}function h(a,b){if(!a||a.length<10)return!1;b=b||{};var c,d,e,f=s(a,3);return"ID3"!==f?!1:(c=b.version||(b.version={major:2}),d=b.version.flags||(b.version.flags={}),c.minor=a[3],c.revision=a[4],e=a[5],d.unsync=e&!0,d.xheader=e&!0,d.experimental=e&!0,b)}function i(a,b){for(var c=0,d=b.version;c<a.length;){var e,f,h=k(a.slice(c+4));if(0===h)break;if(f=a.slice(c,c+10+h),!f.length)break;e=g(f,d.minor,h),e&&(b[e.tag]=e.value),c+=f.length}}function j(a){return 2097152*(127&a[0])+16384*(127&a[1])+128*(127&a[2])+(127&a[3])}function k(a){return a.length<4?0:16777216*a[0]+65536*a[1]+256*a[2]+a[3]}function l(a,b,c,d){c=c||0,0>b&&(b+=a.length);var e=x.Buffer,f="";if(w)return a=a.slice(c,c+b),a instanceof e?a.toString():new e(a).toString();for(var g=c;c+b>g;g++)f+=String.fromCharCode(a[g]);return d?f:decodeURIComponent(escape(f))}var m=m||a("promise-a-plus"),n=a("./genres.js"),o=a("./frameTypes.js"),p=a("./imageTypes.js"),q=a("./stringUtils.js"),r=q.readUTF16String,s=q.readUTF8String,t=128,u=20,v=function(){},w="undefined"==typeof window,x=w?c:window;"slice"in Uint8Array.prototype||(Uint8Array.prototype.slice=Uint8Array.prototype.subarray),w||(x.ID3={parse:d}),b.exports={parse:d}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./frameTypes.js":1,"./genres.js":2,"./imageTypes.js":3,"./stringUtils.js":5,"promise-a-plus":6}],5:[function(a,b,c){"use strict";var d={readUTF16String:function(a,b,c){var d=0,e=1,f=0;c=Math.min(c||a.length,a.length),254===a[0]&&255===a[1]?(b=!0,d=2):255===a[0]&&254===a[1]&&(b=!1,d=2),b&&(e=0,f=1);var g,h,i,j,k,l,m,n=[];for(m=0;c>d&&(g=a[d+e],h=a[d+f],k=(g<<8)+h,d+=2,0!==k);m++)216>g||g>=224?n[m]=String.fromCharCode(k):(i=a[d+e],j=a[d+f],l=(i<<8)+j,d+=2,n[m]=String.fromCharCode(k,l));return n.join("")},readUTF8String:function(a,b){var c=0;b=Math.min(b||a.length,a.length),239===a[0]&&187===a[1]&&191===a[2]&&(c=3);for(var d=[],e=0;b>c;e++){var f,g,h,i,j=a[c++];if(0===j)break;128>j?d[e]=String.fromCharCode(j):j>=194&&224>j?(f=a[c++],d[e]=String.fromCharCode(((31&j)<<6)+(63&f))):j>=224&&240>j?(f=a[c++],g=a[c++],d[e]=String.fromCharCode(((255&j)<<12)+((63&f)<<6)+(63&g))):j>=240&&245>j&&(f=a[c++],g=a[c++],h=a[c++],i=((7&j)<<18)+((63&f)<<12)+((63&g)<<6)+(63&h)-65536,d[e]=String.fromCharCode((i>>10)+55296,(1023&i)+56320))}return d.join("")},readNullTerminatedString:function(a,b){var c,d,e=[];for(b=b||a.length,c=0;b>c&&(d=a[c++],0!==d);)e[c-1]=String.fromCharCode(d);return e.join("")}};b.exports=d},{}],6:[function(a,b,c){"use strict";function d(a){function b(a){l=h,m=a,n.forEach(k),n=null}function c(a){l=i,m=a,n.forEach(k),n=null}function j(a){try{var d=e(a);if(d)return void f(function(){d.apply(a,arguments)},j,c);b(a)}catch(g){c(g)}}function k(a){l===g?n.push(a):(l===h&&"function"==typeof a.onFulfilled&&a.onFulfilled(m),l===i&&"function"==typeof a.onRejected&&a.onRejected(m))}var l=g,m=null,n=[];this.done=function(a,b){setTimeout(function(){k({onFulfilled:a,onRejected:b})},0)};var o=function(a,b){var c,e=this,f=new d(function(d,g){return e.done(function(b){if("function"!=typeof a)return d(b);try{return c=a(b),c===f?g(new TypeError("The `promise` and `x` refer to the same object.")):d(c)}catch(e){return g(e)}},function(a){if("function"!=typeof b)return g(a);try{return c=b(a),c===f?g(new TypeError("The `promise` and `x` refer to the same object.")):d(c)}catch(e){return g(e)}})});return f};this.then=o,this["catch"]=function(a){return o.call(this,void 0,a)},f(a,j,c)}function e(a){var b,c=typeof a;return!a||"object"!==c&&"function"!==c||(b=a.then,"function"!=typeof b)?null:b}function f(a,b,c){var d=!1;try{a(function(a){d||(d=!0,setTimeout(function(){b(a)},0))},function(a){d||(d=!0,setTimeout(function(){c(a)},0))})}catch(e){if(d)return;d=!0,setTimeout(function(){c(e)},0)}}var g=0,h=1,i=2;d.resolve=function(a){return new d(function(b,c){b(a)})},d.reject=function(a){return new d(function(b,c){c(a)})},d.all=function(a){var b,c,e,f=[],g=0;if(!a||!(b=a.length))throw new Error("ArgumentsError: currently only array is allowed");return new d(function(h,i){for(e=0;b>e;e++)!function(e){c=a[e],c instanceof d||(c=d.resolve(c)),c["catch"](function(a){i(a)}),c.then(function(a){f[e]=a,++g===b&&h(f)})}(e)})},d.race=function(a){var b;if(!a||!a.length)throw new Error("ArgumentsError: currently only array is allowed");return b=d.deferred(),a.forEach(function(a){a instanceof d?a.then(function(a){b.resolve(a)},function(a){b.reject(a)}):b.resolve(a)}),b.promise},d.deferred=function(){var a={};return a.promise=new d(function(b,c){a.resolve=b,a.reject=c}),a},d.defer=d.deferred,b.exports=d},{}]},{},[4]);
//# sourceMappingURL=id3-parser.browser.min.map